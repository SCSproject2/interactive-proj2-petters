<div class='addPost-container'>
  <h3>Add Post</h3>
  <form
    id='addPost-form'
    method='POST'
    action='/api/posts'
    enctype='multipart/form-data'
  >
    <input
      id='add-title'
      type='text'
      name='title'
      placeholder='Title  *required'
    />
    <textarea
      id='add-desc'
      type='text'
      name='desc'
      placeholder='Description  *required'
    ></textarea>
    <div id='add-select-wrapper'>
      <input id='add-post-image' type='file' name='image' />
      <select id='category-options' name='existing_categories'>
        <option value='' disabled selected>Pick a category</option>
        {{#each categories as |category|}}
          <option
            data-category-id={{category.id}}
            value='{{category.id}}'
          >{{category.category_name}}</option>
        {{/each}}
      </select>
    </div>
    <div id='filter-status'>
      <select id='filter-options' name='image_filter'>
        <option value=''>Pick a filter</option>
        <option value='no-filter' type='button' data-chosen='false'>No Filter</option>
        <option value='sepia' type='button' data-chosen='false'>Sepia</option>
        <option value='invert' type='button' data-chosen='false'>Invert</option>
        <option
          value='grayscale'
          type='button'
          data-chosen='false'
        >Grayscale</option>
        <option value='red-tint' type='button' data-chosen='false'>Red tint</option>
        <option value='blue-tint' type='button' data-chosen='false'>Blue tint</option>
        <option value='purple-tint' type='button' data-chosen='false'>Purple
          tint</option>
        <option value='orange-tint' type='button' data-chosen='false'>Orange
          tint</option>
      </select>
      <p id='upload-status'></p>
    </div>
    <button id='add-post' type='submit'>Post</button>
  </form>
  <h3 id='category-title'>Add new Category</h3>
  <form id='addCategory-form' method='POST' action='/api/category'>
    <div id='category-status'>
      <input
        id='category_name'
        name='category_name'
        type='text'
        placeholder='Enter new category'
      />
      <p id='category-upload-status'></p>
    </div>
    <button id='add-category' type='submit'>Post</button>
  </form>
  <h3 id='random-post-title'>Generate random post</h3>
  <div id='random-post-wrapper'>
    <button id='random-post'>Generate</button>
    <p id='generating-status'>Generating...</p>
  </div>
</div>

<hr id='dashboardHr' />
<h1 id='your-posts'>Your posts</h1>
<div id='dashboard-posts container'>
  <div class="row spacing">
    {{! posts.forEach(post) }}
    {{#if posts}}{{else}}
      <p id='no-posts'>You have not uploaded any posts</p>
    {{/if}}

    {{#each posts as |post|}}
      <div 
        id='single-post' 
        class='col-sm-12 col-md-6 col-xl-4 p-1 mb-4'
      >
        <div id='post-header' class='{{post.category_name}}'>
          <p id='post-category'>{{post.category_name}}</p>
          <p id='post-date'>
            {{post.user.username}}
            -
            {{format_date post.created_at}}</p>
        </div>
        <div id='post-icon-wrapper'>
          <div id='chat-icon-wrapper'>
            <img id='chat-icon' src='./images/comment.png' alt='' />
            <p>{{checkCounter post.comments}}</p>
          </div>
          <div id='like-icon-wrapper'>
            <img class='like-icon' src='./images/like.png' alt='' />
            <p>{{checkCounter post.likes}}</p>
          </div>
        </div>
        <img
          class='{{post.image_filter}}'
          id='post-image'
          src='{{post.image_url}}'
          alt='{{post.title}}'
        />
        <div id='post-body-wrapper'>
          <h4 id='post-title'>{{post.title}}</h4>
          <p id='post-body'>
            {{post.body}}
          </p>
        </div>
        <div id='post-controls'>
          <button
            data-post-id='{{post.id}}'
            class='edit-post-id'
            id='edit-post-{{post.id}}'
          >Edit post</button>
          <button
            data-post-id='{{post.id}}'
            class='delete-post-{{post.id}}'
            id='delete-post-1'
          >Delete post</button>
          <button
            data-post-id='{{post.id}}'
            id='view-comments-{{post.id}}'
            class='view-comments'
          >View comments</button>
          <button
            data-post-id='{{post.id}}'
            class='confirm-post'
            id='confirm-post-{{post.id}}'
          >Confirm</button>
          <p id='edit-post-status'>Make sure the new post title and body are
            greater than 4 characters</p>
        </div>
      </div>
    {{/each}}
  </div>
</div>
<script src='./javascript/dashboard/fetch-animal.js'></script>
<script src='./javascript/dashboard/check-category-form.js'></script>
<script src='./javascript/dashboard/check-post-form.js'></script>
<script src='./javascript/dashboard/edit-post.js'></script>
<script src='./javascript/dashboard/delete-post.js'></script>
<script src='./javascript/dashboard/view-comments.js'></script>